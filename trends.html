<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historical Analysis - EU Energy Analysis</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <span class="nav-title">
                <svg width="32" height="21" viewBox="0 0 810 540" style="vertical-align: middle; margin-right: 10px;">
                    <desc>European flag</desc>
                    <defs>
                        <g id="s">
                            <g id="c">
                                <path id="t" d="M0,0v1h0.5z" transform="translate(0,-1)rotate(18)"/>
                                <use href="#t" transform="scale(-1,1)"/>
                            </g>
                            <g id="a">
                                <use href="#c" transform="rotate(72)"/>
                                <use href="#c" transform="rotate(144)"/>
                            </g>
                            <use href="#a" transform="scale(-1,1)"/>
                        </g>
                    </defs>
                    <rect fill="#039" width="810" height="540"/>
                    <g fill="#fc0" transform="scale(30)translate(13.5,9)">
                        <use href="#s" y="-6"/>
                        <use href="#s" y="6"/>
                        <g id="l">
                            <use href="#s" x="-6"/>
                            <use href="#s" transform="rotate(150)translate(0,6)rotate(66)"/>
                            <use href="#s" transform="rotate(120)translate(0,6)rotate(24)"/>
                            <use href="#s" transform="rotate(60)translate(0,6)rotate(12)"/>
                            <use href="#s" transform="rotate(30)translate(0,6)rotate(42)"/>
                        </g>
                        <use href="#l" transform="scale(-1,1)"/>
                    </g>
                </svg>
                EU Electricity Production
            </span>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="live.html">Intraday</a>
                <a href="monthly.html">Monthly</a>
                <a href="trends.html" class="active">Trends</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <header class="page-header">
            <h1>Historical Energy Analysis</h1>
            <p class="subtitle">Long-term trends and energy transition data (2015-2025)</p>
        </header>

        <div class="info-box">
            <p><strong>Select a chart below</strong> to explore period comparisons and annual evolution of EU energy production</p>
            <p><strong>Note:</strong> For monthly trends by individual energy source, visit the <a href="monthly.html">Monthly page</a></p>
        </div>

        <!-- DROPDOWN SELECTOR -->
        <div class="chart-selector">
            <label for="chart-select">Choose Analysis:</label>
            <select id="chart-select" onchange="showChart(this.value)">
                <optgroup label="ðŸ“ˆ Period Comparisons">
                    <option value="period-2015-2019">All: 2015-2019</option>
                    <option value="period-2020-2024">All: 2020-2024</option>
                    <option value="period-2025-2029" selected>All: 2025-2029</option>
                    <option value="ren-vs-nonren-2015-2019">Aggregates: 2015-2019</option>
                    <option value="ren-vs-nonren-2020-2024">Aggregates: 2020-2024</option>
                    <option value="ren-vs-nonren-2025-2029">Aggregates: 2025-2029</option>
                </optgroup>
                
                <optgroup label="ðŸ“‰ Annual Trends">
                    <option value="annual-renewable">Renewables</option>
                    <option value="annual-nonrenewable">Non-Renewables</option>
                    <option value="transition">Aggregates</option>
                    <option value="yoy">YoY vs 2015</option>
                </optgroup>
            </select>
        </div>

        <!-- DYNAMIC CHART DISPLAY -->
        <div id="chart-display" class="chart-container">
            <!-- Chart will be loaded here by JavaScript -->
        </div>
    </div>

    <footer>
        <p>Built with data from <a href="https://transparency.entsoe.eu/" target="_blank">ENTSO-E</a> | 
           Source code on <a href="https://github.com/afratzl/eu-energy-analysis" target="_blank">GitHub</a> | 
           Built by <a href="https://www.linkedin.com/in/alexfratzl/" target="_blank">Alex Fratzl</a> with Claude Sonnet</p>
    </footer>

    <script>
        // Chart configurations
        const charts = {
            'period-2015-2019': {
                image: 'plots/eu_monthly_energy_sources_mean_2015_2019_combined.png',
                title: 'All Energy Sources: 2015-2019'
            },
            'period-2020-2024': {
                image: 'plots/eu_monthly_energy_sources_mean_2020_2024_combined.png',
                title: 'All Energy Sources: 2020-2024'
            },
            'period-2025-2029': {
                image: 'plots/eu_monthly_energy_sources_mean_2025_2029_combined.png',
                title: 'All Energy Sources: 2025-2029'
            },
            'ren-vs-nonren-2015-2019': {
                image: 'plots/eu_monthly_renewable_vs_nonrenewable_mean_2015_2019_combined.png',
                title: 'Aggregates: 2015-2019'
            },
            'ren-vs-nonren-2020-2024': {
                image: 'plots/eu_monthly_renewable_vs_nonrenewable_mean_2020_2024_combined.png',
                title: 'Aggregates: 2020-2024'
            },
            'ren-vs-nonren-2025-2029': {
                image: 'plots/eu_monthly_renewable_vs_nonrenewable_mean_2025_2029_combined.png',
                title: 'Aggregates: 2025-2029'
            },
            'annual-renewable': {
                image: 'plots/eu_annual_renewable_trends_combined.png',
                title: 'Annual Renewable Energy Trends'
            },
            'annual-nonrenewable': {
                image: 'plots/eu_annual_non_renewable_trends_combined.png',
                title: 'Annual Non-Renewable Energy Trends'
            },
            'transition': {
                image: 'plots/eu_annual_renewable_vs_non_renewable_combined.png',
                title: 'Aggregates'
            },
            'yoy': {
                image: 'plots/eu_annual_yoy_change_vs_2015.png',
                title: 'Year-over-Year Change vs 2015 Baseline'
            }
        };

        // Show chart function - NO HTML titles (titles are in the PNG)
        function showChart(chartId) {
            const chart = charts[chartId];
            const display = document.getElementById('chart-display');

            // Update chart display - just the image, no HTML title
            display.innerHTML = `
                <img src="${chart.image}" alt="${chart.title}" class="chart-img">
            `;

            // Scroll to chart
            display.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Load default chart on page load
        window.addEventListener('DOMContentLoaded', () => {
            showChart('period-2025-2029');
        });
    </script>

    <style>
        .chart-subtitle {
            text-align: center;
            color: #7f8c8d;
            font-size: 1.05em;
            margin-top: -10px;
            margin-bottom: 30px;
        }
        
        /* Responsive image sizing - UPDATED TO 60% */
        .chart-img {
            width: 100%;
            height: auto;
        }
        
        /* Desktop: Scale down to 60% */
        @media (min-width: 1024px) {
            .chart-img {
                width: 60%;
                margin: 0 auto;
                display: block;
            }
        }
        
        /* EU Flag responsive sizing */
        @media (max-width: 768px) {
            .nav-title svg {
                width: 28px;
                height: 19px;
                margin-right: 8px;
            }
        }
        
        @media (max-width: 480px) {
            .nav-title svg {
                width: 24px;
                height: 16px;
                margin-right: 6px;
            }
        }
    </style>
</body>
</html>
